# Without fractional scaling, position HDMI-A-2 at 2560x200 or
# if that doesn't work, position DVI-D-1 at -2560x-200.
# Unless necessary, it is preferable to use positive numbers
# for positioning to avoid compatibility issues
monitor=DVI-D-1, 2560x1600@59.86000, 0x0, 1.33333333
monitor=HDMI-A-2, 1920x1200@59.95000, 1920x0, 1

# Startup programs
#exec-once = nm-applet # networkmanager applet
exec-once = hyprpaper # wallpaper
exec-once = waybar # taskbar
exec-once = /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1 # polkit
exec-once = swaync # notif center
exec-once = udiskie # automount
#exec = $HOME/.config/eww/scripts/start.sh

# Default programs
$terminal = alacritty
$fileManager = thunar
$menu = wofi --show drun

# Environment variables
env = XCURSOR_THEME,Banana
env = XCURSOR_SIZE,48

env = HYPRCURSOR_THEME,Banana
env = HYPRCURSOR_SIZE,48

env = AQ_DRM_DEVICES,/dev/dri/card1#:/dev/dri/card0



#                                    !!INPUT!!                                      #
# --------------------------------------------------------------------------------- #
#                                    !!INPUT!!                                      #

input {
    kb_layout = gb

    follow_mouse = 1

    # Range is -1.0 to 1.0 | 0 means no modification to sensitivity.
    sensitivity = 0

    accel_profile = flat
    force_no_accel = true

    touchpad {
        natural_scroll = false
    }
}


cursor {
    # This fixes a few bugs.
    no_hardware_cursors = true
}



#                                    !!DESIGN!!                                     #
# --------------------------------------------------------------------------------- #
#                                    !!DESIGN!!                                     #

animations {
    enabled = true

    bezier = wind, 0.5, 0.9, 0.5, 1
    bezier = winIn, 0.5, 0.9, 0.7, 1
    bezier = winOut, 0.5, 0.9, 0.6, 1
    bezier = bounce, 0.7, 1.9, 0.5, 1

    animation = windowsIn, 1, 3, winIn, slide
    animation = windowsOut, 1, 3, winOut, slide
    animation = windowsMove, 1, 3, wind, slide
    animation = fade, 1, 3, wind
    animation = workspaces, 1, 3, wind
    animation = windows, 1, 3, wind, slide
    animation = specialWorkspace, 1, 3, wind, slidevert
}

general {
    # Inner and Outer gaps between windows. Outer gaps should be double inner gaps
    gaps_in = 5
    gaps_out = 10

    # I prefer a thin border
    border_size = 3

    # Border colors.
    col.active_border = rgb(18, 18, 18)
    col.inactive_border = rgb(18, 18, 18)

    # Set to true enable resizing windows by clicking and dragging on borders and gaps
    resize_on_border = true

    layout = dwindle

    # READ https://wiki.hyprland.org/Configuring/Tearing/ BEFORE TURNING ON!
    allow_tearing = false
}

# Window Decorations! Shadow, Blur, etc.
decoration {
    # 8px same as taskbar, change if wanted.
    rounding = 12

    # I want transparancy to not change, since we have the colored border.
    active_opacity = 1.0
    inactive_opacity = 1

    # Window Shadow
    drop_shadow = true
    shadow_range = 16
    shadow_render_power = 5
    col.shadow = rgba(0,0,0,0.35)

    # Transparent Window Blur
    blur:enabled = true
    blur:new_optimizations = true
    blur:size = 2
    blur:passes = 2
    blur:vibrancy = 0.1696
}

# Read https://wiki.hyprland.org/Configuring/Dwindle-Layout/ for more info on dwindle layout.
dwindle {
    pseudotile = true
    preserve_split = true
    special_scale_factor = 0.7
}

# Read https://wiki.hyprland.org/Configuring/Master-Layout/ for more info on master layout.
master {
    new_status = slave
    allow_small_split = true
    special_scale_factor = 0.7
}

# We have our own wallpapers :) So I'll disable default things.
misc {
    force_default_wallpaper = 0
    disable_hyprland_logo = true
    font_family = "JetBrainsMono Nerd Font"
}
# No need for gestures unless you have a touch display.
gestures {
    workspace_swipe = false
}


#                                    !!KEYBINDS!!                                   #
# --------------------------------------------------------------------------------- #
#                                    !!KEYBINDS!!                                   #

binds {
    workspace_back_and_forth = false
}

workspace = name:ÓùÖ

# Windows key / Super key is the main modifier key. (abbreviated as mod)
$mainMod = SUPER

# mod + Return = start terminal
bind = $mainMod, Return, exec, $terminal
# mod + C = kill current focused application
bind = $mainMod, C, killactive,
# mod + Z = open file manager
bind = $mainMod, D, exec, $fileManager
# mod + G = Toggle focused window to be floating or tiled.
bind = $mainMod, G, togglefloating
# mod + F = toggle focused window to full-screen view.
bind = $mainMod, F, fullscreen
# mod + Space = toggle application launcher (I prefer wofi).
bind = $mainMod, Space, exec, $menu
# mod + A = scratchpad
bind = $mainMod, A, togglespecialworkspace, special
# mod + Z = move to scratchpad
bind = $mainMod, Z, movetoworkspace, special
# mod + X = screenshot, borked so putting the command in a script as a
# temporary fix (im never fixing it :3)
#bind = $mainMod, X, exec, grim -cg "$(slurp -b ##00000050 -c ##ffffff25 -s ##ffffff00)" - | wl-copy
#bind = $mainMod, X, exec, ~/.config/hypr/scripts/screenshot.sh
bind = $mainMod, X, exec, hyprshot --mode region --output-folder /tmp
bind = $mainMod, H, exec, hyprpicker | wl-copy
bind = $mainMod ALT, H, exec, hyprpicker -f rgb | wl-copy

# Switch current workspaces with mainMod + (q|w|e|r|t|y)
bind = $mainMod, Q, exec, ~/.config/hypr/scripts/dispatch.sh 1
bind = $mainMod, W, exec, ~/.config/hypr/scripts/dispatch.sh 2
bind = $mainMod, E, exec, ~/.config/hypr/scripts/dispatch.sh 3
bind = $mainMod, R, exec, ~/.config/hypr/scripts/dispatch.sh 4
bind = $mainMod, T, exec, ~/.config/hypr/scripts/dispatch.sh 5
bind = $mainMod, Y, exec, ~/.config/hypr/scripts/dispatch.sh 6

# Move a focused window to a workspace with mainMod + (1|2|3|4|5|6)
bind = $mainMod, 1, movetoworkspace, 1
bind = $mainMod, 2, movetoworkspace, 2
bind = $mainMod, 3, movetoworkspace, 3
bind = $mainMod, 4, movetoworkspace, 4
bind = $mainMod, 5, movetoworkspace, 5
bind = $mainMod, 5, movetoworkspace, 6

# Move and Resize windows with mainMod + LMB/RMB and dragging
bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow

# Laptop multimedia keys for volume and LCD brightness
#bindel = ,XF86AudioRaiseVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%+
#bindel = ,XF86AudioLowerVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
#bindel = ,XF86AudioMute, exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
#bindel = ,XF86AudioMicMute, exec, wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle
#bindel = ,XF86MonBrightnessUp, exec, brightnessctl s 10%+
#bindel = ,XF86MonBrightnessDown, exec, brightnessctl s 10%-



#                                    !!WINDOW RULES!!                               #
# --------------------------------------------------------------------------------- #
#                                    !!WINDOW RULES!!                               #

# This adds a blur to the background of wofi (our app launcher)
# The reason we can't do this within wofi itself, is because gtk3 doesn't
# have a built-in background blur.
layerrule = blur, wofi
layerrule = ignorealpha 0.01, wofi # This is so entirely transparent things aren't blurred.

# Add blur to waybar, for same reason as above. Since we have two versions
# of the waybar design, one with translucency.
layerrule = blur, waybar
layerrule = blurpopups, waybar
layerrule = ignorealpha 0.01, waybar # this is so entirely transparent things aren't blurred.

# Add blur to eww widgets
layerrule = blur, eww
layerrule = blurpopups, eww
layerrule = ignorealpha 0.01, eww

# Ignore maximize requests from apps.
windowrulev2 = suppressevent maximize, class:.*

# Certain windows need a minimum-size to not be bugged,
# adding more here as needed.
#windowrulev2 = minsize 250 250, class:^(Unity)$, title:^(Project Settings)$
#windowrulev2 = minsize 250 250, class:^(Unity)$, title:^(Preferences)$
#windowrulev2 = minsize 250 250, class:^(Unity)$, title:^(UnityEditor.AddComponent.AddComponentWindow)$
#windowrulev2 = minsize 250 250, class:^(Unity)$, title:^(Package Manager)$
#windowrulev2 = minsize 250 250, class:^(Unity)$, title:^(UI Toolkit Debugger)$
#windowrulev2 = minsize 250 500, class:^(Unity)$, title:^(Font Asset Creator)$
#windowrulev2 = minsize 500 250, class:^(Unity)$, title:^(Background Tasks)$

#windowrulev2 = move cursor, class:^(Unity)$

# Color Picker for unity
#windowrulev2 = move cursor, class:^(Unity)$, title:^(Color)$
#windowrulev2 = move cursor, class:^(Unity)$, title:^(HDR Color)$

# Fix dragging issues with XWayland
windowrulev2 = nofocus,class:^$,title:^$,xwayland:1,floating:1,fullscreen:0,pinned:0
